{"version":3,"file":"static/js/3117.40afadfe.chunk.js","mappings":"yPAoJA,QAnIA,WAAmB,IAADA,EAAAC,EAChB,MAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAWC,EAAAA,EAAAA,MACXC,GAAYC,EAAAA,EAAAA,IAAaC,GAAUA,EAAMC,KAAKC,UAC7CC,GAAQC,EAAAA,EAAKC,UACdC,GAAQP,EAAAA,EAAAA,IAAaC,GAAUA,EAAMC,KAAKK,OAG1CC,EAA2B,QAAjBjB,EAAGI,EAASM,aAAK,IAAAV,OAAA,EAAdA,EAAgBiB,WAC7BC,EAA8B,QAAjBjB,EAAGG,EAASM,aAAK,IAAAT,OAAA,EAAdA,EAAgBkB,KAehCC,GAAeC,EAAAA,EAAAA,aAClBC,IACChB,GACEiB,EAAAA,EAAAA,OAAMD,EAASE,IAEb,IAAKA,EAIH,OAFAC,eAAeC,WAAW,qBAC1BxB,EAAS,YAMX,GAAmB,cAAfe,EAA4B,CAE9B,MAAME,EAAOD,GAAiBS,KAAKC,MAAMH,eAAeI,QAAQ,iBAAmB,QAC/EV,GACFM,eAAeC,WAAW,gBAC1BxB,EAAS,YAAa,CAAEQ,MAAO,CAAES,WAEjCjB,EAAS,wBAEb,MACEA,EADSe,GAGA,6BAKjB,CAACf,EAAUI,EAAUW,EAAYC,IAkBnC,OACEY,EAAAA,EAAAA,MAAA,OAAKC,UAAU,SAAQC,SAAA,EACrBF,EAAAA,EAAAA,MAAA,OAAKC,UAAU,oBAAmBC,SAAA,EAChCC,EAAAA,EAAAA,KAAA,MAAIF,UAAU,6CAA4CC,SAAC,kBAC3DC,EAAAA,EAAAA,KAAA,KAAGF,UAAU,gBAAeC,SAAC,kDAG/BF,EAAAA,EAAAA,MAAChB,EAAAA,EAAI,CAACoB,KAAK,QAAQrB,KAAMA,EAAMsB,SAAUf,EAAcgB,OAAO,WAAUJ,SAAA,EACtEC,EAAAA,EAAAA,KAACnB,EAAAA,EAAKuB,KAAI,CACRH,KAAK,QACLI,MAAO,CAAC,CAAEC,QAAS,2BAA4BC,UAAU,IACzDC,OAAOR,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4BAA2BC,SAAC,kBAAqBA,UAExEC,EAAAA,EAAAA,KAACS,EAAAA,EAAK,CAACX,UAAU,oBAAoBY,YAAY,wBAGnDV,EAAAA,EAAAA,KAACnB,EAAAA,EAAKuB,KAAI,CACRH,KAAK,WACLO,OAAOR,EAAAA,EAAAA,KAAA,QAAMF,UAAU,4BAA2BC,SAAC,aACnDM,MAAO,CAAC,CAAEE,UAAU,EAAMD,QAAS,0BACnCR,UAAU,OAAMC,UAEhBC,EAAAA,EAAAA,KAACS,EAAAA,EAAME,SAAQ,CAACb,UAAU,oBAAoBY,YAAY,2BAG5DV,EAAAA,EAAAA,KAAA,OAAKF,UAAU,yCAAwCC,UACrDC,EAAAA,EAAAA,KAACY,EAAAA,GAAO,CAACd,UAAU,8DAA8De,GAAG,uBAAsBd,SAAC,uBAK5GhB,IACCiB,EAAAA,EAAAA,KAAA,OAAKF,UAAU,2EAA0EC,SAAEhB,KAG7FiB,EAAAA,EAAAA,KAACnB,EAAAA,EAAKuB,KAAI,CAAAL,UACRC,EAAAA,EAAAA,KAACc,EAAAA,EAAM,CACLhB,UAAU,mLACViB,KAAK,UACLC,SAAS,SACTrC,QAASJ,EAAUwB,SAElBxB,EAAY,gBAAkB,kBAKrCsB,EAAAA,EAAAA,MAAA,OAAKC,UAAU,yCAAwCC,SAAA,CAAC,yBAC1B,KAC5BC,EAAAA,EAAAA,KAACiB,EAAAA,GAAI,CAACJ,GAAG,iBAAiBf,UAAU,wEAAuEC,SAAC,0BAMpH,C","sources":["container/profile/authentication/overview/SignIn.js"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport { Link, NavLink, useNavigate, useLocation } from 'react-router-dom';\r\nimport { Form, Input, Button } from 'antd';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n// eslint-disable-next-line import/no-extraneous-dependencies\r\n// import { ReactSVG } from 'react-svg';\r\n// import UilFacebook from '@iconscout/react-unicons/icons/uil-facebook-f';\r\n// import UilTwitter from '@iconscout/react-unicons/icons/uil-twitter';\r\n// import UilGithub from '@iconscout/react-unicons/icons/uil-github';\r\n// import { Auth0Lock } from 'auth0-lock';\r\nimport { login } from '../../../../redux/authentication/actionCreator';\r\n// import { Checkbox } from '../../../../components/checkbox/checkbox';\r\n// import { auth0options } from '../../../../config/auth0';\r\n\r\n// const domain = process.env.REACT_APP_AUTH0_DOMAIN;\r\n// const clientId = process.env.REACT_APP_AUTH0_CLIENT_ID;\r\n\r\nfunction SignIn() {\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n  const dispatch = useDispatch();\r\n  const isLoading = useSelector((state) => state.auth.loading);\r\n  const [form] = Form.useForm();\r\n  const error = useSelector((state) => state.auth.error);\r\n\r\n  // Check if there's a redirect destination (e.g., from pricing page)\r\n  const redirectTo = location.state?.redirectTo;\r\n  const planFromState = location.state?.plan;\r\n\r\n  // const [state, setState] = useState({\r\n  //   checked: null,\r\n  // });\r\n\r\n  // const lock = new Auth0Lock(clientId, domain, auth0options);\r\n\r\n  // const handleSubmit = useCallback(\r\n  //   (values) => {\r\n  //     dispatch(login(values, () => navigate('/admin')));\r\n  //   },\r\n  //   [navigate, dispatch],\r\n  // );\r\n\r\n  const handleSubmit = useCallback(\r\n    (values) => {\r\n      dispatch(\r\n        login(values, (hasSubscription) => {\r\n          // If user doesn't have a subscription, redirect to pricing\r\n          if (!hasSubscription) {\r\n            // Clean up any previously selected plan\r\n            sessionStorage.removeItem('selectedPlan');\r\n            navigate('/pricing');\r\n            return;\r\n          }\r\n\r\n          // User has subscription - handle redirect\r\n          // Check if we need to redirect to checkout with a plan (in case they selected a new plan)\r\n          if (redirectTo === '/checkout') {\r\n            // Get plan from location state or sessionStorage\r\n            const plan = planFromState || JSON.parse(sessionStorage.getItem('selectedPlan') || 'null');\r\n            if (plan) {\r\n              sessionStorage.removeItem('selectedPlan'); // Clean up\r\n              navigate('/checkout', { state: { plan } });\r\n            } else {\r\n              navigate('/admin/profit/summary');\r\n            }\r\n          } else if (redirectTo) {\r\n            navigate(redirectTo);\r\n          } else {\r\n            navigate('/admin/profit/summary');\r\n          }\r\n        }),\r\n      );\r\n    },\r\n    [navigate, dispatch, redirectTo, planFromState],\r\n  );\r\n\r\n  // const onChange = (checked) => {\r\n  //   setState({ ...state, checked });\r\n  // };\r\n\r\n  // lock.on('authenticated', (authResult) => {\r\n  //   lock.getUserInfo(authResult.accessToken, (error) => {\r\n  //     if (error) {\r\n  //       return;\r\n  //     }\r\n\r\n  //     handleSubmit();\r\n  //     lock.hide();\r\n  //   });\r\n  // });\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"text-center mb-10\">\r\n        <h2 className=\"text-3xl font-extrabold text-gray-900 mb-2\">Welcome Back</h2>\r\n        <p className=\"text-gray-500\">Enter your details to access your account</p>\r\n      </div>\r\n\r\n      <Form name=\"login\" form={form} onFinish={handleSubmit} layout=\"vertical\">\r\n        <Form.Item\r\n          name=\"email\"\r\n          rules={[{ message: 'Please input your Email!', required: true }]}\r\n          label={<span className=\"font-medium text-gray-700\">Email Address</span>}\r\n        >\r\n          <Input className=\"rounded-lg py-2.5\" placeholder=\"name@example.com\" />\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          label={<span className=\"font-medium text-gray-700\">Password</span>}\r\n          rules={[{ required: true, message: 'Please enter password' }]}\r\n          className=\"mb-6\"\r\n        >\r\n          <Input.Password className=\"rounded-lg py-2.5\" placeholder=\"Enter your password\" />\r\n        </Form.Item>\r\n\r\n        <div className=\"flex items-center justify-between mb-8\">\r\n          <NavLink className=\"text-emerald-600 hover:text-emerald-700 font-medium text-sm\" to=\"/auth/forgotPassword\">\r\n            Forgot password?\r\n          </NavLink>\r\n        </div>\r\n\r\n        {error && (\r\n          <div className=\"mb-6 p-4 rounded-lg bg-red-50 text-red-600 text-sm border border-red-100\">{error}</div>\r\n        )}\r\n\r\n        <Form.Item>\r\n          <Button\r\n            className=\"w-full h-12 rounded-xl text-base font-semibold bg-gradient-to-r from-emerald-500 to-teal-600 border-0 shadow-lg shadow-emerald-500/30 hover:shadow-emerald-500/50 transition-all\"\r\n            type=\"primary\"\r\n            htmlType=\"submit\"\r\n            loading={isLoading}\r\n          >\r\n            {isLoading ? 'Signing In...' : 'Sign In'}\r\n          </Button>\r\n        </Form.Item>\r\n      </Form>\r\n\r\n      <div className=\"mt-8 text-center text-sm text-gray-500\">\r\n        Don&apos;t have an account?{' '}\r\n        <Link to=\"/auth/register\" className=\"font-semibold text-emerald-600 hover:text-emerald-500 hover:underline\">\r\n          Sign up for free\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default SignIn;\r\n"],"names":["_location$state","_location$state2","navigate","useNavigate","location","useLocation","dispatch","useDispatch","isLoading","useSelector","state","auth","loading","form","Form","useForm","error","redirectTo","planFromState","plan","handleSubmit","useCallback","values","login","hasSubscription","sessionStorage","removeItem","JSON","parse","getItem","_jsxs","className","children","_jsx","name","onFinish","layout","Item","rules","message","required","label","Input","placeholder","Password","NavLink","to","Button","type","htmlType","Link"],"ignoreList":[],"sourceRoot":""}